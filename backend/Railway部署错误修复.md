# Railway éƒ¨ç½²é”™è¯¯ä¿®å¤ï¼šCannot find module '/app/server.js'

## âŒ é”™è¯¯ä¿¡æ¯

```
Error: Cannot find module '/app/server.js'
code: 'MODULE_NOT_FOUND'
```

## ğŸ” é—®é¢˜åŸå› 

Railway åœ¨å®¹å™¨ä¸­æ‰¾ä¸åˆ° `server.js` æ–‡ä»¶ã€‚å¯èƒ½çš„åŸå› ï¼š

1. **é¡¹ç›®æ ¹ç›®å½•è®¾ç½®ä¸æ­£ç¡®**
   - Railway å¯èƒ½æŠŠæ•´ä¸ªä»“åº“çš„æ ¹ç›®å½•ä½œä¸ºå·¥ä½œç›®å½•
   - éœ€è¦å°†æ ¹ç›®å½•è®¾ç½®ä¸º `backend`

2. **å¯åŠ¨å‘½ä»¤è·¯å¾„é—®é¢˜**
   - ç›´æ¥ä½¿ç”¨ `node server.js` å¯èƒ½æ‰¾ä¸åˆ°æ–‡ä»¶
   - åº”è¯¥ä½¿ç”¨ `npm start`ï¼ˆä» package.json è¯»å–ï¼‰

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ³•1ï¼šè®¾ç½®æ­£ç¡®çš„æ ¹ç›®å½•ï¼ˆæ¨èï¼‰

1. **åœ¨ Railway é¡¹ç›®è®¾ç½®ä¸­**
   - è¿›å…¥ä½ çš„ Railway é¡¹ç›®
   - ç‚¹å‡»æœåŠ¡ï¼ˆWeb Serviceï¼‰
   - æ‰¾åˆ° "Settings"ï¼ˆè®¾ç½®ï¼‰æ ‡ç­¾
   - æ‰¾åˆ° "Root Directory"ï¼ˆæ ¹ç›®å½•ï¼‰è®¾ç½®
   - **è®¾ç½®ä¸ºï¼š`backend`**
   - ä¿å­˜

2. **é‡æ–°éƒ¨ç½²**
   - Railway ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²
   - æˆ–æ‰‹åŠ¨ç‚¹å‡» "Redeploy"

### æ–¹æ³•2ï¼šä½¿ç”¨ npm startï¼ˆå·²æ›´æ–°ï¼‰

æˆ‘å·²ç»æ›´æ–°äº† `railway.toml`ï¼Œå°†å¯åŠ¨å‘½ä»¤æ”¹ä¸ºï¼š

```toml
[deploy]
startCommand = "npm start"
```

è¿™æ ·ä¼šä½¿ç”¨ `package.json` ä¸­å®šä¹‰çš„ `start` è„šæœ¬ï¼Œæ›´å¯é ã€‚

### æ–¹æ³•3ï¼šæ£€æŸ¥é¡¹ç›®ç»“æ„

ç¡®ä¿é¡¹ç›®ç»“æ„æ­£ç¡®ï¼š

```
insurance_plateform-business-/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.js          âœ… å¿…é¡»å­˜åœ¨
â”‚   â”œâ”€â”€ package.json        âœ… å¿…é¡»å­˜åœ¨
â”‚   â”œâ”€â”€ railway.toml        âœ… é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ admin/
â””â”€â”€ ...
```

## ğŸ“‹ å®Œæ•´ä¿®å¤æ­¥éª¤

### æ­¥éª¤1ï¼šæ£€æŸ¥ Railway é¡¹ç›®è®¾ç½®

1. ç™»å½• Railwayï¼šhttps://railway.app
2. è¿›å…¥ä½ çš„é¡¹ç›®
3. ç‚¹å‡» Web Serviceï¼ˆä¸æ˜¯ MySQLï¼‰
4. ç‚¹å‡» "Settings" æ ‡ç­¾
5. **æ£€æŸ¥ "Root Directory"**
   - åº”è¯¥è®¾ç½®ä¸ºï¼š`backend`
   - å¦‚æœæ˜¾ç¤ºä¸ºç©ºæˆ– `/`ï¼Œæ”¹ä¸º `backend`
6. ä¿å­˜

### æ­¥éª¤2ï¼šéªŒè¯é…ç½®æ–‡ä»¶

ç¡®ä¿ `backend/railway.toml` å­˜åœ¨ä¸”é…ç½®æ­£ç¡®ï¼š

```toml
[build]
builder = "NIXPACKS"

[deploy]
startCommand = "npm start"  # ä½¿ç”¨ npm start è€Œä¸æ˜¯ node server.js
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
```

### æ­¥éª¤3ï¼šé‡æ–°éƒ¨ç½²

1. åœ¨ Railway é¡¹ç›®é¡µé¢
2. ç‚¹å‡» "Deployments"ï¼ˆéƒ¨ç½²ï¼‰æ ‡ç­¾
3. ç‚¹å‡»æœ€æ–°çš„éƒ¨ç½²
4. ç‚¹å‡» "Redeploy"ï¼ˆé‡æ–°éƒ¨ç½²ï¼‰

æˆ–è€…ï¼š

1. æ¨é€æ–°çš„ commit åˆ° GitHub
2. Railway ä¼šè‡ªåŠ¨è§¦å‘æ–°çš„éƒ¨ç½²

## ğŸ” éªŒè¯ä¿®å¤

éƒ¨ç½²æˆåŠŸåï¼Œæ£€æŸ¥æ—¥å¿—åº”è¯¥æ˜¾ç¤ºï¼š

```
âœ… æ„å»ºæˆåŠŸ
âœ… å¯åŠ¨å‘½ä»¤ï¼šnpm start
âœ… æœåŠ¡å™¨è¿è¡Œåœ¨ç«¯å£ 3000
âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ
```

## ğŸ› å¦‚æœä»ç„¶å¤±è´¥

### æ£€æŸ¥1ï¼šç¡®è®¤æ–‡ä»¶å­˜åœ¨

åœ¨ Railway çš„æ„å»ºæ—¥å¿—ä¸­ï¼Œåº”è¯¥èƒ½çœ‹åˆ°ï¼š
- `server.js` æ–‡ä»¶è¢«å¤åˆ¶åˆ°å®¹å™¨ä¸­
- `package.json` å­˜åœ¨
- `npm install` æˆåŠŸæ‰§è¡Œ

### æ£€æŸ¥2ï¼šæŸ¥çœ‹å®Œæ•´æ—¥å¿—

åœ¨ Railway éƒ¨ç½²æ—¥å¿—ä¸­ï¼ŒæŸ¥çœ‹ï¼š
- æ„å»ºé˜¶æ®µï¼šæ˜¯å¦æˆåŠŸå®‰è£…ä¾èµ–
- éƒ¨ç½²é˜¶æ®µï¼šå¯åŠ¨å‘½ä»¤æ˜¯ä»€ä¹ˆ
- é”™è¯¯ä¿¡æ¯ï¼šå®Œæ•´çš„é”™è¯¯å †æ ˆ

### æ£€æŸ¥3ï¼šæ‰‹åŠ¨æµ‹è¯•

å¦‚æœæœ¬åœ°å¯ä»¥è¿è¡Œï¼š
```bash
cd backend
npm install
npm start
```

åº”è¯¥èƒ½æ­£å¸¸å¯åŠ¨ã€‚å¦‚æœæœ¬åœ°ä¹Ÿå¤±è´¥ï¼Œè¯´æ˜ä»£ç æœ‰é—®é¢˜ã€‚

## ğŸ“ å¸¸è§é—®é¢˜

### Q: æ ¹ç›®å½•è®¾ç½®åœ¨å“ªé‡Œï¼Ÿ

A: åœ¨ Railway é¡¹ç›®é¡µé¢ï¼š
1. ç‚¹å‡»ä½ çš„ Web Serviceï¼ˆä¸æ˜¯ MySQLï¼‰
2. ç‚¹å‡» "Settings" æ ‡ç­¾
3. æ‰¾åˆ° "Root Directory" å­—æ®µ
4. è®¾ç½®ä¸º `backend`

### Q: ä¸ºä»€ä¹ˆä½¿ç”¨ `npm start` è€Œä¸æ˜¯ `node server.js`ï¼Ÿ

A: 
- `npm start` ä¼šä» `package.json` è¯»å–å¯åŠ¨è„šæœ¬
- æ›´å¯é ï¼Œå› ä¸ºè·¯å¾„æ˜¯ç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•çš„
- å¦‚æœå°†æ¥éœ€è¦ä¿®æ”¹å¯åŠ¨æ–¹å¼ï¼Œåªéœ€æ”¹ `package.json`

### Q: å¦‚ä½•ç¡®è®¤æ ¹ç›®å½•è®¾ç½®æ­£ç¡®ï¼Ÿ

A: åœ¨ Railway çš„æ„å»ºæ—¥å¿—ä¸­ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
- å·¥ä½œç›®å½•æ˜¯ `/app` æˆ–ç±»ä¼¼è·¯å¾„
- `server.js` å’Œ `package.json` éƒ½åœ¨å·¥ä½œç›®å½•ä¸­
- `npm install` èƒ½æ­£å¸¸æ‰§è¡Œ

---

**ä¿®å¤åï¼Œéƒ¨ç½²åº”è¯¥ä¼šæˆåŠŸï¼**
