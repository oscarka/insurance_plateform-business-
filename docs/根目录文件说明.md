# 根目录文件说明

本文档说明根目录下各个文件的作用、所属部分，以及是否需要保留。

## 📁 文件分类说明

### 📦 已归档的文件（已迁移到 client/）

这些是**用户端前端**的旧文件，已经整理到 `client/` 目录，并归档到 `_old_client_files/` 目录：

| 文件/目录 | 说明 | 新位置 | 归档位置 |
|---------|------|--------|---------|
| `App.tsx` | 用户端主应用组件 | `client/App.tsx` | `_old_client_files/App.tsx` |
| `index.tsx` | 用户端入口文件 | `client/index.tsx` | `_old_client_files/index.tsx` |
| `index.html` | 用户端 HTML 模板 | `client/index.html` | `_old_client_files/index.html` |
| `types.ts` | TypeScript 类型定义 | `client/types.ts` | `_old_client_files/types.ts` |
| `pages/` | 用户端页面组件 | `client/pages/` | `_old_client_files/pages/` |
| `components/` | 用户端公共组件 | `client/components/` | `_old_client_files/components/` |
| `src/` | 用户端业务逻辑 | `client/src/` | `_old_client_files/src/` |
| `package.json` | 用户端依赖配置 | `client/package.json` | `_old_client_files/package.json` |
| `package-lock.json` | 用户端依赖锁定 | `client/package-lock.json` | `_old_client_files/package-lock.json` |
| `vite.config.ts` | 用户端构建配置 | `client/vite.config.ts` | `_old_client_files/vite.config.ts` |
| `tsconfig.json` | 用户端 TS 配置 | `client/tsconfig.json` | `_old_client_files/tsconfig.json` |
| `_redirects` | 用户端路由重定向 | `client/_redirects` | `_old_client_files/_redirects` |
| `wrangler.toml` | 用户端 Cloudflare 配置 | `client/wrangler.toml` | `_old_client_files/wrangler.toml` |

**状态**：✅ 已归档到 `_old_client_files/` 目录

**建议**：确认 `client/` 目录部署正常后，可以删除 `_old_client_files/` 目录。

---

### 💾 数据库相关文件（已整理到 database/ 目录）

这些是**数据库**相关的 SQL 脚本，已整理到 `database/` 目录：

| 文件 | 说明 | 所属部分 | 位置 |
|------|------|---------|------|
| `database_schema.sql` | 数据库结构定义（表结构） | 数据库 | `database/database_schema.sql` |
| `database_migration_task1-12.sql` | 任务1-12的数据库迁移脚本 | 数据库 | `database/database_migration_task1-12.sql` |
| `database_create_regions_table.sql` | 创建地区表的脚本 | 数据库 | `database/database_create_regions_table.sql` |
| `database_extend_special_agreements.sql` | 扩展特殊协议表的脚本 | 数据库 | `database/database_extend_special_agreements.sql` |
| `完整数据导入-合并版.sql` | 完整数据导入脚本（合并版） | 数据库 | `database/完整数据导入-合并版.sql` |

**状态**：✅ 已整理到 `database/` 目录

**建议**：所有数据库脚本统一在 `database/` 目录管理，便于维护。

---

### 🛠️ 工具脚本（保留在根目录）

这些是**开发工具**脚本，保留在根目录便于使用：

| 文件 | 说明 | 所属部分 |
|------|------|---------|
| `使用Docker启动数据库.sh` | Docker 启动 MySQL 数据库的脚本 | 开发工具 |
| `push-to-github.sh` | 推送代码到 GitHub 的脚本（多种方式尝试） | 开发工具 |

**建议**：保留在根目录，方便直接执行。

---

### 📄 配置文件（保留在根目录）

这些是**项目级别**的配置文件：

| 文件 | 说明 | 所属部分 |
|------|------|---------|
| `.gitignore` | Git 忽略文件配置 | 项目配置 |
| `README.md` | 项目主说明文档 | 项目文档 |
| `metadata.json` | 项目元数据（可能是 AI Studio 生成） | 项目配置 |

**建议**：保留在根目录。

---

### 🗑️ 已删除的文件/目录

这些是**不再需要**的文件或目录，已删除：

| 文件/目录 | 说明 | 原因 |
|---------|------|------|
| `node_modules/` | 用户端依赖包（根目录） | 根目录已无 package.json，依赖已移到 client/node_modules |
| `dist/` | 用户端构建产物（根目录） | 构建产物已移到 client/dist |

**状态**：✅ 已删除（.gitignore 中已配置，不会被提交到 git）

---

### 📂 模块目录（保留）

这些是各个模块的目录，应该保留：

| 目录 | 说明 | 所属部分 |
|------|------|---------|
| `client/` | 用户端前端 | 用户端 |
| `admin/` | 后台管理端 | 后台管理 |
| `backend/` | 后端服务 | 后端 |
| `docs/` | 项目文档 | 文档 |

---

## 🎯 整理建议

### 已归档的文件

用户端旧文件已归档到 `_old_client_files/` 目录：

```bash
# 查看归档文件
ls -la _old_client_files/

# 确认 client/ 目录部署正常后，可以删除归档目录
rm -rf _old_client_files/
```

### 应该保留的文件

```bash
# 数据库相关（已整理到 database/ 目录）
database/database_*.sql
database/完整数据导入-合并版.sql

# 工具脚本（保留在根目录）
使用Docker启动数据库.sh
push-to-github.sh

# 配置文件（保留在根目录）
.gitignore
README.md
metadata.json
```

### 可选操作

1. **数据库文件可以移到 `docs/` 或新建 `database/` 目录**：
   ```bash
   mkdir database
   mv database_*.sql database/
   mv 完整数据导入-合并版.sql database/
   ```

2. **工具脚本可以移到 `scripts/` 目录**：
   ```bash
   mkdir scripts
   mv *.sh scripts/
   ```

---

## 📊 文件归属总结

| 所属部分 | 文件数量 | 建议操作 |
|---------|---------|---------|
| 用户端（旧） | ~15 个 | 删除（已迁移到 client/） |
| 数据库 | 5 个 | 保留或移到 database/ |
| 开发工具 | 2 个 | 保留或移到 scripts/ |
| 项目配置 | 3 个 | 保留 |
| 模块目录 | 4 个 | 保留 |

---

## 🔍 快速检查命令

```bash
# 查看根目录所有文件
ls -la

# 查看用户端旧文件（可删除）
ls -d App.tsx index.* types.ts pages/ components/ src/ package.* vite.config.ts tsconfig.json _redirects wrangler.toml 2>/dev/null

# 查看数据库文件
ls -1 database_*.sql 完整数据导入-合并版.sql

# 查看工具脚本
ls -1 *.sh
```

---

## ⚠️ 注意事项

1. **删除前确认**：删除用户端旧文件前，请确认：
   - `client/` 目录已完整迁移
   - `client/` 目录可以正常构建和运行
   - Cloudflare 部署使用 `client/` 目录

2. **备份建议**：如果不确定，可以先重命名而不是删除：
   ```bash
   mkdir _old_files
   mv App.tsx index.* types.ts _old_files/
   ```

3. **Git 历史**：即使删除文件，Git 历史中仍然保留，可以随时恢复。
